<header>
  <h1>All transactions</h1>
</header>

<div class="table-container flex">
<table>
  <tr>
    <th>id</th>
    <th>Date</th>
    <th>Merchant</th>
    <th>Category</th>
    <th>Description</th>
    <th>Amount</th>
  </tr>
  <% for transaction in @transactions %>
  <tr>
    <td><a href="transactions/<%= transaction.id %>"><%= transaction.id %></a></td>
    <td><a href="transactions/<%= transaction.id %>"><%= transaction.transaction_date %></a></td>
    <td><a href="transactions/<%= transaction.id %>"><%= transaction.merchant.name %></a></td>
    <td><a href="transactions/<%= transaction.id %>"><%= transaction.category.name.capitalize %></a></td>
    <td><a href="transactions/<%= transaction.id %>"><%= transaction.pretty_description %></a></td>
    <td class="amount"><a href="transactions/<%= transaction.id %>"><%= transaction.pretty_value %></a></td>
  </tr>
  <% end %>
  <tfoot>
    <td colspan="5" class="empty"></td>
    <td class="sum">
      <% pounds = 0 %>
      <% pence = 0 %>
      <% @transactions.each do |transaction| %>
        <% pounds += transaction.pounds %>
        <% pence += transaction.pence %>
      <% end %>
      <% pounds += pence / 100 %>
      <% pence %= 100 %>
      <%= pence < 10 ? "£#{pounds}.0#{pence}" : "£#{pounds}.#{pence}" %>
    </td>
  </tfoot>
</table>
</div>
