<header>
  <h1><i class="fas fa-list-alt header-tag">&nbsp;</i>All Transactions</h1>
</header>

<% if @transactions.length == 0 %>
<div class="flex-center-center">
<%= "No transactional data to display" %>
<% else %>
</div>
<div class="table-container flex">
<table>
  <tr>
    <th>Date</th>
    <th>Merchant</th>
    <th>Category</th>
    <th>Description</th>
    <th>Amount</th>
  </tr>
  <% for transaction in @transactions %>
  <tr>
    <td><a href="transactions/<%= transaction.id %>"><%= transaction.pretty_date %></a></td>
    <td><a href="transactions/<%= transaction.id %>"><%= transaction.merchant.name %></a></td>
    <td><a href="transactions/<%= transaction.id %>">
      <%= transaction.category.name %>
      <i class="fas fa-tag index-tag">&nbsp;</i></a></td>
    <td><a href="transactions/<%= transaction.id %>"><%= transaction.pretty_description %></a></td>
    <td class="amount"><a href="transactions/<%= transaction.id %>"><%= @user.pretty_print(transaction.value) %></a></td>
  </tr>
  <% end %>
  <tfoot>
    <td colspan="4" class="empty"></td>
    <td class="sum">
      <% sum = @transactions.sum { |transaction| transaction.value } %>
      <%= @user.pretty_print(sum) %>
    </td>
  </tfoot>
</table>

<% end %>

</div>
